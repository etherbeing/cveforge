"""
This type stub file was generated by pyright.
"""

from twisted.internet.defer import inlineCallbacks
from twisted.internet.interfaces import IProtocolNegotiationFactory
from twisted.web import http
from zope.interface import implementer

logger = ...
class WebRequest(http.Request):
    """
    Request that either hands off information to channels, or offloads
    to a WebSocket class.

    Does some extra processing over the normal Twisted Web request to separate
    GET and POST out.
    """
    error_template = ...
    def __init__(self, *args, **kwargs) -> None:
        ...
    
    @inlineCallbacks
    def process(self): # -> Generator[Deferred[Any], Any, None]:
        ...
    
    def connectionLost(self, reason): # -> None:
        """
        Cleans up reply channel on close.
        """
        ...
    
    def finish(self): # -> None:
        """
        Cleans up reply channel on close.
        """
        ...
    
    def handle_reply(self, message): # -> None:
        """
        Handles a reply from the client
        """
        ...
    
    def handle_exception(self, exception): # -> None:
        """
        Called by the server when our application tracebacks
        """
        ...
    
    def check_timeouts(self): # -> None:
        """
        Called periodically to see if we should timeout something
        """
        ...
    
    def send_disconnect(self): # -> None:
        """
        Sends a http.disconnect message.
        Useful only really for long-polling.
        """
        ...
    
    def duration(self): # -> float | Literal[0]:
        """
        Returns the time since the start of the request.
        """
        ...
    
    def basic_error(self, status, status_text, body): # -> None:
        """
        Responds with a server-level error page (very basic)
        """
        ...
    
    def __hash__(self) -> int:
        ...
    
    def __eq__(self, other) -> bool:
        ...
    


@implementer(IProtocolNegotiationFactory)
class HTTPFactory(http.HTTPFactory):
    """
    Factory which takes care of tracking which protocol
    instances or request instances are responsible for which
    named response channels, so incoming messages can be
    routed appropriately.
    """
    def __init__(self, server) -> None:
        ...
    
    def buildProtocol(self, addr): # -> Protocol | None:
        """
        Builds protocol instances. This override is used to ensure we use our
        own Request object instead of the default.
        """
        ...
    
    def acceptableProtocols(self): # -> list[bytes]:
        """
        Protocols this server can speak after ALPN negotiation. Currently that
        is HTTP/1.1 and optionally HTTP/2. Websockets cannot be negotiated
        using ALPN, so that doesn't go here: anyone wanting websockets will
        negotiate HTTP/1.1 and then do the upgrade dance.
        """
        ...
    


